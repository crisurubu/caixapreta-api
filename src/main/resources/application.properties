# --- CONFIGURAÇÃO DO BANCO DE DADOS (H2) ---
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;CASE_INSENSITIVE_IDENTIFIERS=TRUE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# --- HIBERNATE & JPA ---
# create-drop: Apaga e recria as tabelas ao iniciar (Ideal para testes)
spring.jpa.hibernate.ddl-auto=create-drop
# Mostra no console do Java o SQL que o sistema está executando
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# --- H2 CONSOLE (Ferramenta Visual) ---
# Permite acessar o banco via http://localhost:8080/h2-console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
# Desabilita proteção de frame para o console funcionar no navegador
spring.web.resources.static-locations=classpath:/static/
spring.h2.console.settings.web-allow-others=true

# --- LOGGING ---
# Define o nível de log para ver detalhes de possíveis erros
logging.level.org.hibernate.SQL=DEBUG

# --- SEGURANÇA (JWT) ---
# Chave secreta para assinar os tokens. Mude para algo complexo em produção.
api.security.token.secret=${JWT_SECRET:caixapreta-secret-key-2026}

# --- SERVER CONFIG ---
# Garante que o servidor rode na porta padrão
server.port=8080